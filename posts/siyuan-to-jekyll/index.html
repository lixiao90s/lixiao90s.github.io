<!doctype html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="思源笔记转换Jekyll博客记录" /><meta name="author" content="lixiao" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="记录学习 工作。" /><meta property="og:description" content="记录学习 工作。" /><link rel="canonical" href="https://lixiao90s.github.io/posts/siyuan-to-jekyll/" /><meta property="og:url" content="https://lixiao90s.github.io/posts/siyuan-to-jekyll/" /><meta property="og:site_name" content="晓的博客" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-03-12T11:45:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="思源笔记转换Jekyll博客记录" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@lixiao" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"lixiao"},"dateModified":"2025-03-12T11:45:00+08:00","datePublished":"2025-03-12T11:45:00+08:00","description":"记录学习 工作。","headline":"思源笔记转换Jekyll博客记录","mainEntityOfPage":{"@type":"WebPage","@id":"https://lixiao90s.github.io/posts/siyuan-to-jekyll/"},"url":"https://lixiao90s.github.io/posts/siyuan-to-jekyll/"}</script><title>思源笔记转换Jekyll博客记录 | 晓的博客</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="晓的博客"><meta name="application-name" content="晓的博客"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/sample/favicon.ico" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">晓的博客</a><p class="site-subtitle fst-italic mb-0">学习&工作记录</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>关于</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/lixiao90s" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['example','domain.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首页</a> </span> <span>思源笔记转换Jekyll博客记录</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>思源笔记转换Jekyll博客记录</h1><div class="post-meta text-muted"> <span> 发表于 <time data-ts="1741751100" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025/03/12 </time> </span><div class="d-flex justify-content-between"> <span> 作者 <em> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1537 字" > <em>8 分钟</em>阅读</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">思源笔记转换Jekyll博客记录</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">文章内容</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">思源笔记转换Jekyll博客记录</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><ul id="markdown-toc"><li><a href="#思源笔记转换jekyll博客记录" id="markdown-toc-思源笔记转换jekyll博客记录">思源笔记转换Jekyll博客记录</a><ul><li><a href="#一项目背景" id="markdown-toc-一项目背景">一、项目背景</a><li><a href="#二转换脚本实现" id="markdown-toc-二转换脚本实现">二、转换脚本实现</a><ul><li><a href="#21-主要功能" id="markdown-toc-21-主要功能">2.1 主要功能</a><li><a href="#22-核心代码" id="markdown-toc-22-核心代码">2.2 核心代码</a></ul><li><a href="#三主要功能说明" id="markdown-toc-三主要功能说明">三、主要功能说明</a><ul><li><a href="#31-文件名处理" id="markdown-toc-31-文件名处理">3.1 文件名处理</a><li><a href="#32-分类和标签检测" id="markdown-toc-32-分类和标签检测">3.2 分类和标签检测</a><li><a href="#33-内容处理" id="markdown-toc-33-内容处理">3.3 内容处理</a><li><a href="#34-front-matter-生成" id="markdown-toc-34-front-matter-生成">3.4 Front Matter 生成</a><li><a href="#35-图片处理" id="markdown-toc-35-图片处理">3.5 图片处理</a></ul><li><a href="#四使用方法" id="markdown-toc-四使用方法">四、使用方法</a><li><a href="#五注意事项" id="markdown-toc-五注意事项">五、注意事项</a><li><a href="#六后续优化方向" id="markdown-toc-六后续优化方向">六、后续优化方向</a></ul></ul><h1 id="思源笔记转换jekyll博客记录">思源笔记转换Jekyll博客记录</h1><h2 id="一项目背景"><span class="me-2">一、项目背景</span><a href="#一项目背景" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>将思源笔记中的 Markdown 文档转换为 Jekyll 博客文章，主要需要处理以下问题：</p><ol><li>提取文章标题和分类<li>生成合适的文件名<li>处理图片路径<li>生成文章目录<li>添加合适的标签<li>处理 front matter</ol><h2 id="二转换脚本实现"><span class="me-2">二、转换脚本实现</span><a href="#二转换脚本实现" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="21-主要功能"><span class="me-2">2.1 主要功能</span><a href="#21-主要功能" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>自动检测文章分类和标签<li>处理图片路径，支持本地图片和外部链接<li>生成文章目录<li>添加必要的 front matter<li>处理文件名和日期</ol><h3 id="22-核心代码"><span class="me-2">2.2 核心代码</span><a href="#22-核心代码" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
</pre><td class="rouge-code"><pre><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">re</span>
<span class="kn">import</span> <span class="n">shutil</span>
<span class="kn">from</span> <span class="n">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="n">yaml</span>
<span class="kn">import</span> <span class="n">hashlib</span>
<span class="kn">import</span> <span class="n">logging</span>

<span class="c1"># 设置日志
</span><span class="n">logging</span><span class="p">.</span><span class="nf">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="p">.</span><span class="n">INFO</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="sh">'</span><span class="s">%(asctime)s - %(levelname)s - %(message)s</span><span class="sh">'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">sanitize_filename</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">将中文标题转换为合法的文件名</span><span class="sh">"""</span>
    <span class="c1"># 移除特殊字符，用连字符替换空格
</span>    <span class="n">filename</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">[^\w\s-]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">[-\s]+</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">,</span> <span class="n">filename</span><span class="p">).</span><span class="nf">strip</span><span class="p">(</span><span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">filename</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">detect_categories_and_tags</span><span class="p">(</span><span class="n">content</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">从内容中检测可能的分类和标签</span><span class="sh">"""</span>
    <span class="n">categories</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># 从一级标题检测分类
</span>    <span class="n">category_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">^#\s+(.+?)(?:\n|$)</span><span class="sh">'</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">MULTILINE</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">category_match</span><span class="p">:</span>
        <span class="n">categories</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">category_match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">strip</span><span class="p">())</span>
    
    <span class="c1"># 检测技术关键词作为标签
</span>    <span class="n">tech_keywords</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">spring</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">java</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">mybatis</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">maven</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">framework</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">boot</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">mvc</span><span class="sh">'</span><span class="p">,</span> 
                    <span class="sh">'</span><span class="s">python</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">javascript</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">typescript</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">react</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">vue</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">angular</span><span class="sh">'</span><span class="p">,</span>
                    <span class="sh">'</span><span class="s">docker</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">kubernetes</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">linux</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">git</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">database</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">sql</span><span class="sh">'</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">tech_keywords</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">keyword</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">content</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
            <span class="n">tags</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nf">list</span><span class="p">(</span><span class="nf">set</span><span class="p">(</span><span class="n">categories</span><span class="p">)),</span> <span class="nf">list</span><span class="p">(</span><span class="nf">set</span><span class="p">(</span><span class="n">tags</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">process_markdown_content</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">assets_dir</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">处理 Markdown 内容</span><span class="sh">"""</span>
    <span class="c1"># 在文章开头添加目录
</span>    <span class="n">content</span> <span class="o">=</span> <span class="sh">"</span><span class="s">* TOC</span><span class="se">\n</span><span class="s">{:toc}</span><span class="se">\n\n</span><span class="sh">"</span> <span class="o">+</span> <span class="n">content</span>
    
    <span class="c1"># 处理思源图片路径
</span>    <span class="k">def</span> <span class="nf">replace_image</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
        <span class="n">image_url</span> <span class="o">=</span> <span class="k">match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">image_url</span><span class="p">.</span><span class="nf">startswith</span><span class="p">(</span><span class="sh">'</span><span class="s">http</span><span class="sh">'</span><span class="p">):</span>
            <span class="k">return</span> <span class="k">match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># 保持外部链接不变
</span>        
        <span class="c1"># 为本地图片生成唯一文件名
</span>        <span class="n">image_name</span> <span class="o">=</span> <span class="n">hashlib</span><span class="p">.</span><span class="nf">md5</span><span class="p">(</span><span class="n">image_url</span><span class="p">.</span><span class="nf">encode</span><span class="p">()).</span><span class="nf">hexdigest</span><span class="p">()[:</span><span class="mi">8</span><span class="p">]</span>
        <span class="k">if</span> <span class="sh">'</span><span class="s">.</span><span class="sh">'</span> <span class="ow">in</span> <span class="n">image_url</span><span class="p">:</span>
            <span class="n">ext</span> <span class="o">=</span> <span class="n">image_url</span><span class="p">.</span><span class="nf">rsplit</span><span class="p">(</span><span class="sh">'</span><span class="s">.</span><span class="sh">'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nf">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">ext</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">jpg</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">jpeg</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">png</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">gif</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">svg</span><span class="sh">'</span><span class="p">]:</span>
                <span class="n">ext</span> <span class="o">=</span> <span class="sh">'</span><span class="s">png</span><span class="sh">'</span>
            <span class="n">new_name</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s">.</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="sh">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_name</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s">.png</span><span class="sh">"</span>
        
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">![</span><span class="si">{</span><span class="k">match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s">](/assets/images/</span><span class="si">{</span><span class="n">new_name</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>
    
    <span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">!\[(.*?)\]\((.*?)\)</span><span class="sh">'</span><span class="p">,</span> <span class="n">replace_image</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
    
    <span class="c1"># 处理内部链接
</span>    <span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">\[\[(.*?)\]\]</span><span class="sh">'</span><span class="p">,</span> <span class="sa">r</span><span class="sh">'</span><span class="s">\1</span><span class="sh">'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
    
    <span class="c1"># 移除多余的空行
</span>    <span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">\n{3,}</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">content</span>

<span class="k">def</span> <span class="nf">create_front_matter</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">创建 Jekyll front matter</span><span class="sh">"""</span>
    <span class="n">front_matter</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">title</span><span class="sh">'</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">date</span><span class="sh">'</span><span class="p">:</span> <span class="n">date</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%Y-%m-%d %H:%M:%S +0800</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">categories</span><span class="sh">'</span><span class="p">:</span> <span class="n">categories</span> <span class="ow">or</span> <span class="p">[</span><span class="sh">'</span><span class="s">未分类</span><span class="sh">'</span><span class="p">],</span>
        <span class="sh">'</span><span class="s">tags</span><span class="sh">'</span><span class="p">:</span> <span class="n">tags</span> <span class="ow">or</span> <span class="p">[],</span>
        <span class="sh">'</span><span class="s">author</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">lixiao</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">layout</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">post</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">toc</span><span class="sh">'</span><span class="p">:</span> <span class="bp">True</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">---</span><span class="se">\n</span><span class="si">{</span><span class="n">yaml</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">front_matter</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="si">}</span><span class="s">---</span><span class="se">\n\n</span><span class="sh">"</span>

<span class="k">def</span> <span class="nf">convert_siyuan_to_jekyll</span><span class="p">(</span><span class="n">siyuan_dir</span><span class="p">,</span> <span class="n">jekyll_dir</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">转换思源笔记到 Jekyll 博客格式</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># 确保路径是绝对路径
</span>        <span class="n">siyuan_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">siyuan_dir</span><span class="p">)</span>
        <span class="n">jekyll_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">jekyll_dir</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">siyuan_dir</span><span class="p">):</span>
            <span class="n">logging</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">思源笔记目录不存在: </span><span class="si">{</span><span class="n">siyuan_dir</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="c1"># 创建必要的目录
</span>        <span class="n">posts_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">jekyll_dir</span><span class="p">,</span> <span class="sh">'</span><span class="s">_posts</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">assets_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">jekyll_dir</span><span class="p">,</span> <span class="sh">'</span><span class="s">assets</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">images</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">posts_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">assets_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        
        <span class="n">logging</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">开始转换，源目录: </span><span class="si">{</span><span class="n">siyuan_dir</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">logging</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">目标目录: </span><span class="si">{</span><span class="n">jekyll_dir</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># 遍历思源笔记目录
</span>        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="nf">walk</span><span class="p">(</span><span class="n">siyuan_dir</span><span class="p">):</span>
            <span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">file</span><span class="p">.</span><span class="nf">endswith</span><span class="p">(</span><span class="sh">'</span><span class="s">.md</span><span class="sh">'</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># 读取原始文件
</span>                        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="nb">file</span><span class="p">)</span>
                        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>

                        <span class="c1"># 提取标题
</span>                        <span class="n">title_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">^#\s+(.+?)(?:\n|$)</span><span class="sh">'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">title_match</span><span class="p">:</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="n">title_match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">splitext</span><span class="p">(</span><span class="nb">file</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                        
                        <span class="c1"># 检测分类和标签
</span>                        <span class="n">categories</span><span class="p">,</span> <span class="n">tags</span> <span class="o">=</span> <span class="nf">detect_categories_and_tags</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                        
                        <span class="c1"># 使用文件修改时间作为文章日期
</span>                        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="nf">fromtimestamp</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">getmtime</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
                        
                        <span class="c1"># 生成文件名
</span>                        <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">date</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%Y-%m-%d</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="s">-</span><span class="si">{</span><span class="nf">sanitize_filename</span><span class="p">(</span><span class="n">title</span><span class="p">)</span><span class="si">}</span><span class="s">.md</span><span class="sh">"</span>
                        
                        <span class="c1"># 处理内容
</span>                        <span class="n">content</span> <span class="o">=</span> <span class="nf">process_markdown_content</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">assets_dir</span><span class="p">)</span>
                        
                        <span class="c1"># 添加 front matter
</span>                        <span class="n">content</span> <span class="o">=</span> <span class="nf">create_front_matter</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">categories</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span> <span class="o">+</span> <span class="n">content</span>
                        
                        <span class="c1"># 保存新文件
</span>                        <span class="n">new_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">posts_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">new_file_path</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                            <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

                        <span class="n">logging</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">已转换: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="n">logging</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">处理文件 </span><span class="si">{</span><span class="nb">file</span><span class="si">}</span><span class="s"> 时出错: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

        <span class="c1"># 复制资源文件
</span>        <span class="n">assets_src</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">siyuan_dir</span><span class="p">,</span> <span class="sh">'</span><span class="s">assets</span><span class="sh">'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">assets_src</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="nf">walk</span><span class="p">(</span><span class="n">assets_src</span><span class="p">):</span>
                <span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">file</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">endswith</span><span class="p">((</span><span class="sh">'</span><span class="s">.png</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">.jpg</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">.jpeg</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">.gif</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">.svg</span><span class="sh">'</span><span class="p">)):</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">src_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="nb">file</span><span class="p">)</span>
                            <span class="n">image_name</span> <span class="o">=</span> <span class="n">hashlib</span><span class="p">.</span><span class="nf">md5</span><span class="p">(</span><span class="nb">file</span><span class="p">.</span><span class="nf">encode</span><span class="p">()).</span><span class="nf">hexdigest</span><span class="p">()[:</span><span class="mi">8</span><span class="p">]</span>
                            <span class="n">ext</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">rsplit</span><span class="p">(</span><span class="sh">'</span><span class="s">.</span><span class="sh">'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nf">lower</span><span class="p">()</span>
                            <span class="n">new_name</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s">.</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="sh">"</span>
                            <span class="n">dst_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">assets_dir</span><span class="p">,</span> <span class="n">new_name</span><span class="p">)</span>
                            <span class="n">shutil</span><span class="p">.</span><span class="nf">copy2</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">dst_path</span><span class="p">)</span>
                            <span class="n">logging</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">已复制资源: </span><span class="si">{</span><span class="n">new_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                            <span class="n">logging</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">复制资源文件 </span><span class="si">{</span><span class="nb">file</span><span class="si">}</span><span class="s"> 时出错: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logging</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">转换过程中出错: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">sys</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">用法: python convert_siyuan.py &lt;思源笔记目录&gt; &lt;Jekyll博客目录&gt;</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="n">siyuan_dir</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">jekyll_dir</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="nf">convert_siyuan_to_jekyll</span><span class="p">(</span><span class="n">siyuan_dir</span><span class="p">,</span> <span class="n">jekyll_dir</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="三主要功能说明"><span class="me-2">三、主要功能说明</span><a href="#三主要功能说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="31-文件名处理"><span class="me-2">3.1 文件名处理</span><a href="#31-文件名处理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用 <code class="language-plaintext highlighter-rouge">sanitize_filename</code> 函数将中文标题转换为合法的文件名：</p><ol><li>移除特殊字符<li>用连字符替换空格<li>转换为小写</ol><h3 id="32-分类和标签检测"><span class="me-2">3.2 分类和标签检测</span><a href="#32-分类和标签检测" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用 <code class="language-plaintext highlighter-rouge">detect_categories_and_tags</code> 函数自动检测文章的分类和标签：</p><ol><li>从一级标题提取分类<li>从内容中检测技术关键词作为标签<li>去重处理</ol><h3 id="33-内容处理"><span class="me-2">3.3 内容处理</span><a href="#33-内容处理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用 <code class="language-plaintext highlighter-rouge">process_markdown_content</code> 函数处理 Markdown 内容：</p><ol><li>添加文章目录标记<li>处理图片路径<li>处理内部链接<li>清理多余空行</ol><h3 id="34-front-matter-生成"><span class="me-2">3.4 Front Matter 生成</span><a href="#34-front-matter-生成" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用 <code class="language-plaintext highlighter-rouge">create_front_matter</code> 函数生成 Jekyll 所需的 front matter：</p><ol><li>设置标题、日期、分类和标签<li>添加作者和布局信息<li>启用目录功能</ol><h3 id="35-图片处理"><span class="me-2">3.5 图片处理</span><a href="#35-图片处理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>支持外部链接图片<li>本地图片生成唯一文件名<li>自动复制图片文件到博客目录</ol><h2 id="四使用方法"><span class="me-2">四、使用方法</span><a href="#四使用方法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>将脚本保存为 <code class="language-plaintext highlighter-rouge">convert_siyuan.py</code><li>在命令行中运行：</ol><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python convert_siyuan.py <span class="s2">"思源笔记目录"</span> <span class="s2">"Jekyll博客目录"</span>
</pre></table></code></div></div><p>例如：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python tools/convert_siyuan.py <span class="s2">"E:/siyuanmd"</span> <span class="s2">"E:/lixiao90s.github.io"</span>
</pre></table></code></div></div><h2 id="五注意事项"><span class="me-2">五、注意事项</span><a href="#五注意事项" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>确保思源笔记目录存在<li>确保 Jekyll 博客目录有写入权限<li>图片文件需要在 assets 目录下<li>文章日期使用文件修改时间<li>标签根据预定义的技术关键词自动生成</ol><h2 id="六后续优化方向"><span class="me-2">六、后续优化方向</span><a href="#六后续优化方向" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>支持更多图片格式<li>添加更多技术关键词<li>支持自定义标签规则<li>优化目录生成<li>添加更多错误处理<li>支持批量转换和增量转换</ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/jekyll/" class="post-tag no-text-decoration" >jekyll</a> <a href="/tags/markdown/" class="post-tag no-text-decoration" >markdown</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E6%80%9D%E6%BA%90%E7%AC%94%E8%AE%B0%E8%BD%AC%E6%8D%A2Jekyll%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95%20-%20%E6%99%93%E7%9A%84%E5%8D%9A%E5%AE%A2&url=https%3A%2F%2Flixiao90s.github.io%2Fposts%2Fsiyuan-to-jekyll%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E6%80%9D%E6%BA%90%E7%AC%94%E8%AE%B0%E8%BD%AC%E6%8D%A2Jekyll%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95%20-%20%E6%99%93%E7%9A%84%E5%8D%9A%E5%AE%A2&u=https%3A%2F%2Flixiao90s.github.io%2Fposts%2Fsiyuan-to-jekyll%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Flixiao90s.github.io%2Fposts%2Fsiyuan-to-jekyll%2F&text=%E6%80%9D%E6%BA%90%E7%AC%94%E8%AE%B0%E8%BD%AC%E6%8D%A2Jekyll%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95%20-%20%E6%99%93%E7%9A%84%E5%8D%9A%E5%AE%A2" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="分享链接" data-title-succeed="链接已复制！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/post/some-understanding-of-grain-s-official-documentation-zcic9v.html">Grain官方文档的一些理解</a><li class="text-truncate lh-lg"> <a href="/post/orleans-framework-z1wuwgn.html">Orleans框架</a><li class="text-truncate lh-lg"> <a href="/post/unity-shader-reference-document-part-4-z28zd5r.html">Unity Shader 参考文档 - 第四部分</a><li class="text-truncate lh-lg"> <a href="/post/unity-shader-reference-document-part-3-z2bufyb.html">Unity Shader 参考文档 - 第三部分</a><li class="text-truncate lh-lg"> <a href="/post/unity-shader-reference-document-part-2-zv2tg1.html">Unity Shader 参考文档 - 第二部分</a></ul></section><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/shader/">shader</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/unity/">unity</a> <a class="post-tag btn btn-outline-primary" href="/tags/framework/">framework</a> <a class="post-tag btn btn-outline-primary" href="/tags/maven/">maven</a> <a class="post-tag btn btn-outline-primary" href="/tags/spring/">spring</a> <a class="post-tag btn btn-outline-primary" href="/tags/tree/">tree</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/mvc/">mvc</a> <a class="post-tag btn btn-outline-primary" href="/tags/mybatis/">mybatis</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">文章内容</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">相关文章</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/ssminteract/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1738377869" data-df="YYYY/MM/DD" > 2025/02/01 </time><h4 class="pt-0 my-2">SSM整合</h4><div class="text-muted"><p>SSM整合 一、SSM整合理解 1.1 什么是SSM整合？ 1.2 SSM整合核心问题明确 二、SSM整合配置实战 2.1 依赖整合和添加 2.2 控制层配置编写(SpringMVC整合) 2.3 ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/ssminteract/" class="btn btn-outline-primary" aria-label="上一篇" ><p>SSM整合</p></a> <a href="/posts/cursor-unity-dev/" class="btn btn-outline-primary" aria-label="下一篇" ><p>使用 Cursor 作为 Unity 开发环境</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/lixiao90s">晓</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。" >保留部分权利。</span></p><p>本站采用 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 主题 <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/shader/">shader</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/unity/">unity</a> <a class="post-tag btn btn-outline-primary" href="/tags/framework/">framework</a> <a class="post-tag btn btn-outline-primary" href="/tags/maven/">maven</a> <a class="post-tag btn btn-outline-primary" href="/tags/spring/">spring</a> <a class="post-tag btn btn-outline-primary" href="/tags/tree/">tree</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/mvc/">mvc</a> <a class="post-tag btn btn-outline-primary" href="/tags/mybatis/">mybatis</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">发现新版本的内容。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
